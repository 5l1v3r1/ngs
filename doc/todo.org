#+STARTUP: indent
#+TODO: TODO PROGRESS PENDING | DONE

* Re-implement in Lisp
** DONE Fix push(List, x)
** $* syntax as command word
** DONE Change (native ...) to clearer (native (params-types) ...)
** Consider splitting object creation and initialization. s = DfltHash(0).as(Stats) is not pretty.
** Make missing expressions return :null
** Improve error messages
** Fix __get_item crash with invalid number of parameters
** Fail def/defg fname() if fname containts non-list
** Consider function call for expression f(x,y) = z
defg (x,y,=z) {
do_something
}
* Now
** DONE Redo type system
** CLI
*** TODO Make P usable in CLI
*** TODO think completion from widgets
*** defun cli_XXX for CLI commands (that return objects/widgets)
**** TODO ls
*** TODO Module automatic reloading
*** TODO "fN" command "F1..12" to remember last command into fN key
** TODO Generated documentation
*** TODO Improve parameters matching
*** TODO Arguments parsing
** TODO String pointers to native methods for serialization
* Soon
** TODO Consider matlab style .op on vectors
** TODO Numbers' units (1K, 2M, 3G, ...)
** TODO Autoloading
** TODO Table type
** TODO Context
*** TODO @hosts -> $(...) on the hosts
** TODO Check maybe reverse to String.match(RegExp)
** Glob type?
** TODO CLI - related info widget. Example: after "pkill java" - a widget that would show number of java processes
*** think: maybe only display it for a while?
** TODO examples folder with snippets + tests for the snippets
** TODO Refactor arguments to be single data structure
* Type system
** Function call
*** Arguments
**** DONE Positional
***** DONE Pass
***** DONE Receive
***** DONE Splice positional
***** TODO Splice keywords
**** TODO Named
**** TODO Default value
** TODO Generate constructor function
** TODO Inheritance (also: mixins, runtime inheritance change?)
** TODO Casting
** Multi-method
*** Equality testing in params
** TODO [think] Runtime type change: RunningProcess -> FinishedProcess
* String manipulation
** Consider marking whether parts of string are original or expanded
To allow "abc{d,e,f}ghi${v}".expand_curlys() instead of
"abc{d,e,f}ghi${v.escape_curlys()}".expand_curlys()
* Error reporting
** TODO Backtraces, do not "throw"
+ Method not found
* Namespaces
* Modules load, user defined load, etc
+ Like nodejs with json
* DONE Get exec output and status (field access)
* DONE Commands one by one from CLI (solve globals, etc)
* Session
* Pubsub
* Polling for CLI
* Echo function
* Host groups and target host
* Security for code (permissions)
